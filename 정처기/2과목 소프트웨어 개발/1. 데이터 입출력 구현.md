# 1. 데이터 입출력 구현

## 34) 자료 구조(A)

: 효율적인 프로그램을 작성할 때 가장 우선적인 고려사항은 저장 공간의 효율성과 실행시간의 신속성이다.
 자료구조는 사용할 자료를 기억장치의 공간 내에 저장하는 방법과 자료 간의 관계, 처리방법 등을 연구 분석하는 것이다.

- 자료의 표현과 그것과 관련된 연산
- 자료들을 조직하고 구조화하는 것
- 어떠한 자료 구조에서도 필요한 모든 연산들을 처리할 수 있다.
- 자료 구조에 따라 실행시간이 달라진다



### 자료구조의 분류

- 선형 구조(Linear Structure)
  - 배열(Array)
  - 선형 리스트(Linear List)
    - 연속 리스트(Contiguous List)
    - 연결 리스트(Linked List)
  - 스택(Stack)
  - 큐(Queue)
  - 데크(Deque)
- 비선형 구조(Non-Linear Structure)
  - 트리(Tree)
  - 그래프(Graph)



### 배열(Array)

: 동일한 자료형 데이터들이 같은 크기로 나열되어 순서를 갖는 집합

- 정적인 자료 구조로 기억장소의 추가가 어렵고, 삭제 시 데이터가 저장되어 있던 기억장소는 빈 공간으로 남아있어 메모리의 낭비가 발생
- 첨자를 이용하여 데이터에 접근
- 반복적인 데이터 처리 작업에 적합한 구조
- 데이터마다 동일한 이름의 변수를 사용하여 처리가 간편
- 상용한 첨자의 개수에 따라 n차원 배열이라 부른다



### 선형 리스트(Linear List)

: 일정한 순서에 의해 나열된 자료 구조

- 선형 리스트는 배열을 이용하는 연속 리스트(Contiguous List)와 포인터를 이용하는 연결 리스트(Linked List)로 구분

  - 포인터

    : 현재의 위치에서 다음 노드의 위치를 알려주는 요소

    - 프런트 포인터(Front Pointer)

      : 리스트를 구성하는 최초의 노드 위치를 가리키는 요소

    - 널 포인터(Null Pointer)

      : 다음 노드가 없음을 나타내는 포인터로, 마지막 노드의 링크 부분에 표시

- <b>연속 리스트(Contiguous List)</b>

  - 배열과 같이 연속되는 기억장소에 저장되는 자료 구조
  - 기억장소를 연속적으로 배정받기 때문에 기억장소 이용 효율은 밀도가 1로서 가장 좋다
  - 중간에 데이터를 삽입하기 위해서는 연속된 빈 공간이 있어야 하며, 삽입,삭제시 자료의 이동이 필요

- <b>연결 리스트(Linked List)</b>

  - 반드시 연속적으로 배열시키지는 않고 임의의 기억공간에 기억시키되, 자료 항목의 순서에 따라 노드의 포인터 부분을 이용하여 서로 연결시킨 자료 구조
  - 노드의 삽입 삭제 작업이 용이
  - 기억 공간이 연속적으로 놓여 있지 않아도 저장 가능
  - 링크(포인터) 부분이 필요하기 때문에 순차 리스트에 비해 기억 공간의 이용 효율이 좋지 않다.
  - 연결을 위한 포인터를 찾는 시간이 필요하기 때문에 접근 속도가 느리다.
  - 중간 노드 연결이 끊어지면 그 다음 노드를 찾기 힘들다.



### 스택(Stack)

: 리스트의 한쪽 끝으로만 자료의 삽입, 삭제 작업이 이루어지는 자료 구조

- 가장 나중에 삽입된 자료가 가장 먼저 삭제되는 후입선출(LIFO) 방식으로 자료를 처리

- 모든 기억 공간이 꽉 채워져 있는 상태에서 데이터가 삽입되면 오버플로가 발생하며, 삭제할 데이터가 없는 상태에서 삭제하면 언드플로가 발생한다

- <b>Top</b>

  : 스택으로 할당된 기억 공간에 가장 마지막으로 삽입된 자료가 기억된 위치를 가리키는 요소

- <b>Bottom</b>

  : 스택의 가장 밑바닥



### 큐(Queue)

: 리스트의 한쪽에서는 삽입 작업이 다른 한쪽에서는 삭제 작업이 이루어지도록 하는 자료 구조

- 가장 먼저 삽입된 자료가 가장 먼저 삭제되는 선입선출(FIFO) 방식으로 자료를 처리

- 시작과 끝을 표시하는 두 개의 포인터가 존재

- <b>프런트포인트</b>

  : 가장 먼저 삽입된 자료의 기억공간을 가리키는 포인터로, 삭제 할 때 사용

- <b>리어 포인터</b>

  : 가장 마지막에 삽입된 자료가 위치한 기억 공간을 가리키는 포인터로, 삽입 작업 할 때 사용

- 운영체제의 작업 스케줄링에 사용



### 트리(Tree)

: 정점(Node)과 선분(Branch)을 이용하여 사이클을 이루지 않도록 구성한 그래프(Graph)의 특수한 형태

- 하나의 기억 공간을 노드(Node)라고 하며, 노드와 노드를 연결하는 선을 링크(Link)라고 한다

- 가족의 계보, 조직도 등을 표현하기에 적합

- 관련 용어

  - 노드(Node)

    : 트리의 기본 요소로서 자료 항목과 다른 항목에 대한 가지(Branch)를 합친 것

  - 근 노드(Root Node)

    : 트리의 맨 위에 있는 노드

  - 디그리(Degree, 차수)

    : 각 노드에서 뻗어 나온 가지의 수

  - 단말 노드(Terminal Node) = 잎 노드(Leaf Node)

    : 자식이 하나도 없는 노드, 즉 디그리가 0인 노드

  - 자식 노드(Son Node)

    : 어떤 노드에 연결된 다음 레벨의 노드들

  - 부모 노드(Parent Node)

    : 어떤 노드에 연결된 이전 레벨의 노드들

  - 형제 노드(Brother Node)

    : 동일한 부모를 갖는 노드들

  - 트리의 디그리

    : 노드들의 디그리 중에서 가장 많은 수



## 35) 데이터저장소 / 데이터베이스 / DBMS (A)

### 데이터저장소

: 소프트웨어 개발 과정에서 다루어야 할 데이터들을 논리적인 구조로 조직화하거나, 물리적인 공간에 구축한 것을 의미

- 논리 데이터저장소와 물리 데이터저장소로 구분

- 논리 데이터저장소

  : 데이터 및 데이터 간의 연관성, 제약조건을 식별하여 논리적인 구조로 조직화한 것을 의미

- 물리 데이터저장소

  : 논리 데이터 저장소에 저장된 데이터와 구조들을 소프트웨어가 운용될 환경의 물리적 특성을 고려하여 하드웨어적인 저장장치에 저장한 것을 의미

- 논리 데이터저장소를 거쳐 물리 데이터저장장소를 구축하는 과정은 데이터베이스를 구축하는 과정과 동일



### 데이터베이스

: 특정 조직의 업무를 수행하는 데 필요한 상호 관련된 데이터들의 모임으로 다음과 같이 정의

- <b>통합된 데이터(Integrated Data)</b>

  : 자료의 중복을 배제한 데이터의 모임

- <b>저장된 데이터(Stored Data)</b>

  : 컴퓨터가 접근할 수 있는 저장 매체에 저장된 자료

- <b>운영 데이터(Operational Data)</b>

  : 조직의 고유한 업무를 수행하는 데 존재 가치가 확실하고 없어서는 안 될 반드시 필요한 자료

- <b>공용 데이터(Shared Data)</b>

  : 여러 응용 시스템들이 공동으로 소유하고 유지하는 자료



### DBMS(DataBase Management System; 데이터베이스 관리 시스템)

: 사용자와 데이터베이스 사이에서 사용자의 요구에 따라 정보를 생성해주고, 데이터베이스를 관리해 주는 소프트웨어

- 기존의 파일 시스템이 갖는 <b>데이터의 종속성과 중복성의 문제를 해결하기 위해 제안된 시스템</b>으로, 모든 응용 프로그램들이 데이터베이스를 공용할 수있도록 관리해 준다.

- 데이터베이스의 구성, 접근 방법, 유지관리에 대한 모든 책임을 진다.

- 필수기능에는 정의(Definition), 조작(Manipulation), 제어(Control) 기능이 있다.

  - 정의 기능

    : 데이터베이스에 저장될 데이터의 형(Type)과 구조에 대한 정의, 이용방식, 제약 조건 등을 명시하는 기능

  - 조작기능

    : 데이터 검색, 갱신, 삽입, 삭제 등을 체계적으로 처리하기 위해 사용자와 데이터베이스 사이의 인터페이스 수단을 제공하는 기능

  - 제어 기능

    - 데이터베이스에 접근하는 기능이 정확하게 수행되어 무결성이 유지되도록 제어해야 한다.
    - 정당한 사용자가 허가된 데이터만 접근할 수 있도록 보안(Security)을 유지하고 권한(Authority)을 검사할 수 있어야 한다.
    - 여러 사용자가 동시에 접근하여 데이터를 처리할 때 처리 결과가 항상 정확성을 유지하도록 병행 제어(Concurrency Control)을 할 수 있어야 한다.



### DBMS의 장단점

- 장점

  - 데이터의 논리적, 물리적 독립성이 보장

    - 데이터의 독립성 : 종속성에 대비되는 말로 DBMS의 궁극적 목표이기도 하다.

    - 논리적 독립성

      : 응용 프로그램과 데이터베이스를 독립시킴으로써, 데이터의 논리적 구조를 변경시키더라도 응용프로그램은 변경되지 않는다.

    - 물리적 독립성

      : 응용 프로그램과 보조기억장치 같은 물리적 장치를 독립시킴으로써, 데이터베이스 시스템의 성능 향상을 위해 새로운 디스크를 도입하더라도 응용 프로그램에는 영향을 주지 않고, 데이터의 물리적 구조만을 변경

  - 중복을 피할 수 있어 기억 공간이 절약

  - 저장된 자료를 공동으로 이용 가능

  - 일관성, 무결성, 보안 유지

  - 데이터의 표준화

  - 데이터를 통합하여 관리

  - 항상 최신 데이터 유지

  - 실시간 처리가 가능

- 단점

  - 데이터베이스의 전문가 부족
  - 전산화 비용이 증가
  - 대용량 디스크로의 집중적인 Access로 과부하(Overhead)가 발생
  - 파일의 예비(Backup)와 회복(Recovery)이 어려움
  - 시스템이 복잡하다.



## 36) 데이터 입출력(B)

### 데이터 입출력의 개요

: 소프트웨어의 기능 구현을 위해 데이터베이스에 데이터를 입력하거나 출력하는 작업을 의미

- 단순 입력과 출력 뿐만 아니라 데이터를 조작하는 모든 행위를 의미, SQL(Structured Query Language)를 사용
- 개발 코드내에 SQL코드를 삽입하거나, 객체와 데이터를 연결하는 것을 데이터 접속(Data Mapping)이라고 한다.
- 하나의 논리적 기능을 수행하기 위한 작업의 단위 또는 한꺼번에 모두 수행되어야 할 일련의 연산들을 트랜잭션(Transaction)이라고 한다



### SQL(Structure Query Language)

: 1947년  IBM 연구소에서 개발한 SEQUEL 에서 유래. 국제 표준 데이터베이스 언어로, 많은 회사에서 관계형 데이터베이스(RDB)를 지원하는 언어로 채택

- 관계형 데이터베이스(RDB)

  : 2차원적인 표(Table)를 이용해서 데이터 상호 관계를 정의하는 데이터베이스

- 관계대수와 관계해석을 기초로 한 혼합 데이터 언어

- 질의어지만 질의 기능만 있는 것이 아니라 데이터 구조의 정의, 조작, 제어 기능을 모두 가지고 있다.

- SQL은 데이터 정의어(DLL), 데이터 조작어(DML), 데이터 제어어(DCL)로 구분

  - 데이터 정의어(DLL; Data Define Language)

    : SCHEMA, DOMAIN, TABLE, VIEW, INDEX를 정의하거나 변경 또는 삭제할 때 사용하는 언어

  - 데이터 조작어(DML; Data Manipulation Language)

    : 사용자가 응용 프로그램이나 질의어를 통하여 저장된 데이터를 실질적으로 처리하는 데 사용되는 언어

  - 데이터 제어어(DCL; Data Control Language)

    : 데이터의 보안, 무결성, 회복, 병행 수행 제어 등을 정의하는 데 사용되는 언어



### 데이터 접속(Data Mapping)

: 프로그래밍 코드와 데이터베이스의 데이터를 연결(Mapping)하는 것을 말하며, 관련 기술로 SQL Mapping과 ORM이 있다.

- SQL Mapping

  : 프로그래밍 코드 내에 SQL을 직접 입력하여 DBMS의 데이터에 접속하는 기술로, 관련 프레임워크에는 JDBC, ODBC, MyBatis 등이 있다.

- ORM(Object-Relational Mapping)

  : 객체지향 프로그래밍의 객체(Object)와 관계형(Relational) 데이터베이스의 데이터를 연결(Mapping)하는 기술로, 관련 프레임워크에는 JPA, Hibernate, Django 등이 있다.



### 트랜잭션(Transaction)

: 데이터베이스의 상태를 변환시키는 하나의 논리적 기능을 수행하기 위한 작업의 단위 또는 한꺼번에 모두 수행되어야 할 일련의 연산을 의미

- 트랜잭션을 제어하기 위해서는 사용하는 명령어를 TCL(Transaction Control Language)라고 하며, TCL의 종류에는 COMMIT, ROLLBACK, SAVEPOINT 가 있다.

  - COMMIT

    : 트랜잭션 처리가 정상적으로 종료되어 트랜잭션이 수행한 변경 내용을 데이터베이스에 반영하는 명령어

  - ROLLBACK

    : 하나의 트랜잭션 처리가 비정상으로 종료되어 데이터베이스의 일관성이 깨졌을 때 트랜잭션이 행한 모든 변경 작업을 취소하고 이전 상태로 되돌리는 연산

  - SAVEPOINT(=CHECKPOINT)

    : 트랜잭션 내에 ROLLBACK 할 위치인 저장점을 지정하는 명령어

    (트랜잭션이 큰 경우 여러 개의 Savepoint를 지정할 수 있다.)



## 37) 절차형 SQL(B)

### 절차형 SQL의 개요

: C, JAVA 등의 프로그래밍 언어와 같이 연속적인 실행이나 분기, 반복 등의 제어가 가능한 SQL을 의미

- 프로그래밍 언어에 비해 효율은 떨어지지만 단일 SQL 문장으로 처리하기 어려운 연속적인 작업들을 처리하는데 적합

- 다양한 기능을 수행하는 저장 모듈을 생성할 수 있다.

- DBMS 엔진에서 직접 실행되기 때문에 입출력 패킷이 적은 편이다.

- BEGIN ~ END 형식으로 작성되는 블록(Block) 구조로 되어 있기 때문에 기능별 모듈화가 가능하다.

- 절차형 SQL의 종류에는 프로시저, 트리거, 사용자 정의 함수가 있다.

  - <b>프로시저(Procedure)</b>

    : 특정 기능을 수행하는 일종의 트랜잭션 언어로, 호출을 통해 실행되어 미리 저장해 놓은 SQL작업을 수행

  - <b>트리거(Trigger)</b>

    : 데이터베이스 시스템에서 데이터의 입력, 갱신, 삭제 등의 이벤트(Event)가 발생할 때마다 관련 작업이 자동으로 수행

  - <b>사용자 정의 함수</b>

    : 프로시저와 유사하게 일련의 작업을 연속적으로 처리하며, 종료 시 예약어 Return을 사용하여 처리 결과를 단일값으로 반환



### 절차형 SQL의 테스트와 디버깅

: 디버깅을 통해 기능의 적합성 여부를 검증하고, 실행을 통해 결과를 확인하는 테스트 과정을 수행

- 테스트 전에 생성을 통해 구문 오류(Syntax Error)나 참조 오류의 존재 여부를 확인
- 많은 코드로 구성된 절차형 SQL의 특성상 오류 및 경고 메시지가 상세히 출력되지 않으므로 SHOW 명령어를 통해 내용을 확인하고 문제를 수정
- 정상적으로 생성된 절차형 SQL은 디버깅을 통해 로직을 검증하고, 결과를 통해 최종적으로 확인
- 실제로 데이터베이스에 변화를 줄 수 있는 삽입 및 변경 관련 SQL문을 주석으로 처리하고, 출력문을 이용하여 화면에 출력하여 확인



### 쿼리 성능 최적화

: 데이터 입출력 애플리케이션의 성능 향상을 위해 SQL코드를 최적화 하는것

- 쿼리 성능을 최적화 하기 전에 성능 측정 도구인 APM을 사용하여 최적화 할 쿼리를 선정
  - APM : 애플리케이션 성능관리를 위해 접속자, 자원 현황, 트랜잭션 수행 내역 등 다양한 모니터링 기능을 제공
- 최적화 할 쿼리에 대해 옵티마이저가 수립한 실행 계획을 컴토하고 SQL 코드와 인덱스를 재구성
  - 옵티마이저 : DBMS에 내장되어 작성된 SQL이 효율적으로 수행되도록 최적의 경로를 찾아 주는 모듈

